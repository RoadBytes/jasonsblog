<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    
    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>Tea Leaf Course 3 Week 6 part 2 notes</title>
    
        <link rel="apple-touch-icon-precomposed" sizes="57x57"   href="images/favicomatic/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/favicomatic/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72"   href="images/favicomatic/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="images/favicomatic/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60"   href="images/favicomatic/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="images/favicomatic/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76"   href="images/favicomatic/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="images/favicomatic/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="images/favicomatic/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="images/favicomatic/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="images/favicomatic/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="images/favicomatic/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="images/favicomatic/favicon-128.png" sizes="128x128" />
    <meta name="application-name" content="&nbsp;"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="mstile-310x310.png" />

    <link href="../../../../stylesheets/normalize.css" rel="stylesheet" type="text/css" /><link href="../../../../stylesheets/all.css" rel="stylesheet" type="text/css" />
    <script src="../../../../javascripts/all.js" type="text/javascript"></script>
  </head>
  
  <body class="blog blog_2015 blog_2015_12 blog_2015_12_14 blog_2015_12_14_tea-leaf-course-3-week-6-part-1-notes main">
   <div class="nav">
  <ul id="nav_text">
    <li>
      <a href="/">Home</a>
    </li>
    <li>
      <a href="../../../../about.html">About</a>
    </li>
    <li>
      <a href="../../../../contact.html">Contact</a>
    </li>
  </ul>
</div>

   <div class="content">
     <h1>Tea Leaf Course 3 Week 6 part 2 notes</h1>
     <p class="post-date"><14 Dec 2015></p>
     <p>
         <a href="../../../tags/tealeaf.html">tealeaf</a>
         <a href="../../../tags/actors.html">actors</a>
         <a href="../../../tags/roles.html">roles</a>
         <a href="../../../tags/aws.html">aws</a>
         <a href="../../../tags/carrierwave.html">carrierwave</a>
     </p>
     <hr/>
     <p>Tea Leaf Academy Course 3 Lesson 6 Part 2</p>

<ul>
  <li>This part of the lesson involves adding new videos for Admin actors (Admin roles were from lesson 6 part 1)
    <ul>
      <li>It’s involved with AWS S3 accounts and carrierwave for file upload.</li>
    </ul>
  </li>
</ul>

<h2 id="adding-admin-new-video-feature">Adding Admin New Video Feature</h2>

<p>Notes from the lesson:</p>

<ul>
  <li><em>Important Update for Amazon S3:</em> Amazon has since added an extra step that you need to now add permissions by attaching a user policy to a user. You can follow it here:</li>
</ul>

<p>Article on: <em>Createing a simple aws s3 bucket with iam access control</em></p>

<p>http://blog.danielle.tuckerlabs.com/post/60491757671/creating-a-simple-aws-s3-bucket-with-iam-access</p>

<ul>
  <li>
    <p><code>iam</code> identifies a user or an application and whitelists what services are accessible to him/her/it.  Specifically, I’d only use it to allow the app to upload pictures, and NOT changes routes for example.</p>
  </li>
  <li>
    <p>what is an s3 bucket?</p>
  </li>
</ul>

<blockquote>
  <p>A bucket is a logical unit of storage in Amazon Web Services (AWS) object storage service, Simple Storage Solution S3. Buckets are used to store objects, which consist of data and metadata that describes the data.</p>
</blockquote>

<p>adding user policy to bucket:</p>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"NotAction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iam:*"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Article on: <em>Amazon s3 buckets described in plain english</em></p>

<p>http://www.labnol.org/internet/tools/amazon-s3-buckets-tutorial/3890/</p>

<p>I had to install <code>carrier-aws</code> for staging and production</p>

<p>use <code>carrierwave-aws</code> found here: https://github.com/sorentwo/carrierwave-aws</p>

<p>Setting up the config file:</p>

<p>ImageMagick was also installed on my local machine:</p>

<p>http://stackoverflow.com/questions/7053996/how-do-i-install-imagemagick-with-homebrew</p>

<p>Making sure to manage privileged info:</p>

<p>https://launchschool.com/blog/managing-environment-configuration-variables-in-rails</p>

<h3 id="new-gems">New Gems!</h3>

<p>for handling s3 and file management
gem ‘carrierwave-aws’</p>

<p>for processing image
gem ‘mini_magick’</p>

<h3 id="feature-spec">Feature Spec</h3>

<ul>
  <li>adding file features to testing
    <ul>
      <li>add files to <code>spec/support/uploads/</code>
<code>attach_file 'spec/support/uploads/file'</code></li>
    </ul>
  </li>
</ul>


     <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66493418-1', 'auto');
  ga('send', 'pageview');

</script>

     <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'jasondata';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
   </div>
  </body>
</html>
